{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _objectSpread from\"@babel/runtime/helpers/objectSpread\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";var _jsxFileName=\"/Users/trensik/dev/react-native-paper/src/components/TextInput/TextInputFlat.tsx\";import*as React from'react';import View from\"react-native-web/dist/exports/View\";import Animated from\"react-native-web/dist/exports/Animated\";import NativeTextInput from\"react-native-web/dist/exports/TextInput\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import I18nManager from\"react-native-web/dist/exports/I18nManager\";import Platform from\"react-native-web/dist/exports/Platform\";import color from'color';import InputLabel from\"./Label/InputLabel\";import{MAXIMIZED_LABEL_FONT_SIZE,MINIMIZED_LABEL_FONT_SIZE,LABEL_WIGGLE_X_OFFSET,LABEL_PADDING_HORIZONTAL}from\"./constants\";import{calculateLabelTopPosition,calculateInputHeight,calculatePadding,adjustPaddingFlat,interpolatePlaceholder}from\"./helpers\";var MINIMIZED_LABEL_Y_OFFSET=-18;var LABEL_PADDING_TOP=30;var LABEL_PADDING_TOP_DENSE=24;var MIN_HEIGHT=64;var MIN_DENSE_HEIGHT_WL=52;var MIN_DENSE_HEIGHT=40;var INPUT_OFFSET=8;var TextInputFlat=function(_React$Component){_inherits(TextInputFlat,_React$Component);function TextInputFlat(){_classCallCheck(this,TextInputFlat);return _possibleConstructorReturn(this,_getPrototypeOf(TextInputFlat).apply(this,arguments));}_createClass(TextInputFlat,[{key:\"render\",value:function render(){var _this$props=this.props,disabled=_this$props.disabled,editable=_this$props.editable,label=_this$props.label,error=_this$props.error,selectionColor=_this$props.selectionColor,underlineColor=_this$props.underlineColor,dense=_this$props.dense,style=_this$props.style,theme=_this$props.theme,render=_this$props.render,multiline=_this$props.multiline,parentState=_this$props.parentState,innerRef=_this$props.innerRef,onFocus=_this$props.onFocus,onBlur=_this$props.onBlur,onChangeText=_this$props.onChangeText,onLayoutAnimatedText=_this$props.onLayoutAnimatedText,rest=_objectWithoutProperties(_this$props,[\"disabled\",\"editable\",\"label\",\"error\",\"selectionColor\",\"underlineColor\",\"dense\",\"style\",\"theme\",\"render\",\"multiline\",\"parentState\",\"innerRef\",\"onFocus\",\"onBlur\",\"onChangeText\",\"onLayoutAnimatedText\"]);var colors=theme.colors,fonts=theme.fonts;var font=fonts.regular;var hasActiveOutline=parentState.focused||error;var _ref=StyleSheet.flatten(style)||{},fontSizeStyle=_ref.fontSize,fontWeight=_ref.fontWeight,height=_ref.height,paddingHorizontal=_ref.paddingHorizontal,viewStyle=_objectWithoutProperties(_ref,[\"fontSize\",\"fontWeight\",\"height\",\"paddingHorizontal\"]);var fontSize=fontSizeStyle||MAXIMIZED_LABEL_FONT_SIZE;var paddingOffset=paddingHorizontal!==undefined&&typeof paddingHorizontal==='number'?{paddingHorizontal:paddingHorizontal}:StyleSheet.flatten(styles.paddingOffset);var inputTextColor,activeColor,underlineColorCustom,placeholderColor,errorColor;if(disabled){inputTextColor=activeColor=color(colors.text).alpha(0.54).rgb().string();placeholderColor=colors.disabled;underlineColorCustom='transparent';}else{inputTextColor=colors.text;activeColor=error?colors.error:colors.primary;placeholderColor=colors.placeholder;errorColor=colors.error;underlineColorCustom=underlineColor||colors.disabled;}var containerStyle={backgroundColor:theme.dark?color(colors.background).lighten(0.24).rgb().string():color(colors.background).darken(0.06).rgb().string(),borderTopLeftRadius:theme.roundness,borderTopRightRadius:theme.roundness};var labelScale=MINIMIZED_LABEL_FONT_SIZE/fontSize;var fontScale=MAXIMIZED_LABEL_FONT_SIZE/fontSize;var labelWidth=parentState.labelLayout.width;var labelHeight=parentState.labelLayout.height;var labelHalfWidth=labelWidth/2;var labelHalfHeight=labelHeight/2;var baseLabelTranslateX=(I18nManager.isRTL?1:-1)*(labelHalfWidth-labelScale*labelWidth/2)+(1-labelScale)*paddingOffset.paddingHorizontal;var minInputHeight=dense?(label?MIN_DENSE_HEIGHT_WL:MIN_DENSE_HEIGHT)-LABEL_PADDING_TOP_DENSE:MIN_HEIGHT-LABEL_PADDING_TOP;var inputHeight=calculateInputHeight(labelHeight,height,minInputHeight);var topPosition=calculateLabelTopPosition(labelHeight,inputHeight,multiline&&height?0:!height?minInputHeight/2:0);if(height&&typeof height!=='number')console.warn('Currently we support only numbers in height prop');var paddingSettings={height:height?+height:null,labelHalfHeight:labelHalfHeight,offset:INPUT_OFFSET,multiline:multiline?multiline:null,dense:dense?dense:null,topPosition:topPosition,fontSize:fontSize,label:label,scale:fontScale,isAndroid:Platform.OS==='android',styles:StyleSheet.flatten(dense?styles.inputFlatDense:styles.inputFlat)};var pad=calculatePadding(paddingSettings);var paddingFlat=adjustPaddingFlat(_objectSpread({},paddingSettings,{pad:pad}));var baseLabelTranslateY=-labelHalfHeight-(topPosition+MINIMIZED_LABEL_Y_OFFSET);var placeholderOpacity=hasActiveOutline?interpolatePlaceholder(parentState.labeled,hasActiveOutline):parentState.labelLayout.measured?1:0;var labelProps={label:label,onLayoutAnimatedText:onLayoutAnimatedText,placeholderOpacity:placeholderOpacity,error:error,placeholderStyle:styles.placeholder,baseLabelTranslateY:baseLabelTranslateY,baseLabelTranslateX:baseLabelTranslateX,font:font,fontSize:fontSize,fontWeight:fontWeight,labelScale:labelScale,wiggleOffsetX:LABEL_WIGGLE_X_OFFSET,topPosition:topPosition,paddingOffset:paddingOffset,hasActiveOutline:hasActiveOutline,activeColor:activeColor,placeholderColor:placeholderColor,errorColor:errorColor};var minHeight=height||(dense?label?MIN_DENSE_HEIGHT_WL:MIN_DENSE_HEIGHT:MIN_HEIGHT);var flatHeight=inputHeight+(!height?dense?LABEL_PADDING_TOP_DENSE:LABEL_PADDING_TOP:0);return React.createElement(View,{style:[containerStyle,viewStyle],__source:{fileName:_jsxFileName,lineNumber:222}},React.createElement(Underline,{parentState:parentState,underlineColorCustom:underlineColorCustom,error:error,colors:colors,activeColor:activeColor,__source:{fileName:_jsxFileName,lineNumber:223}}),React.createElement(View,{style:{paddingTop:0,paddingBottom:0,minHeight:minHeight},__source:{fileName:_jsxFileName,lineNumber:230}},React.createElement(InputLabel,{parentState:parentState,labelProps:labelProps,__source:{fileName:_jsxFileName,lineNumber:237}}),render&&render(_objectSpread({},rest,{ref:innerRef,onChangeText:onChangeText,placeholder:label?parentState.placeholder:this.props.placeholder,placeholderTextColor:placeholderColor,editable:!disabled&&editable,selectionColor:typeof selectionColor==='undefined'?activeColor:selectionColor,onFocus:onFocus,onBlur:onBlur,underlineColorAndroid:'transparent',multiline:multiline,style:[styles.input,paddingOffset,!multiline||multiline&&height?{height:flatHeight}:{},paddingFlat,_objectSpread({},font,{fontSize:fontSize,fontWeight:fontWeight,color:inputTextColor,textAlignVertical:multiline?'top':'center'})]}))));}}]);return TextInputFlat;}(React.Component);TextInputFlat.defaultProps={disabled:false,error:false,multiline:false,editable:true,render:function render(props){return React.createElement(NativeTextInput,_extends({},props,{__source:{fileName:_jsxFileName,lineNumber:47}}));}};export default TextInputFlat;var Underline=function Underline(_ref2){var parentState=_ref2.parentState,error=_ref2.error,colors=_ref2.colors,activeColor=_ref2.activeColor,underlineColorCustom=_ref2.underlineColorCustom;var backgroundColor=parentState.focused?activeColor:underlineColorCustom;if(error)backgroundColor=colors.error;return React.createElement(Animated.View,{style:[styles.underline,{backgroundColor:backgroundColor,transform:[{scaleY:parentState.focused?1:0.5}]}],__source:{fileName:_jsxFileName,lineNumber:306}});};var styles=StyleSheet.create({placeholder:{position:'absolute',left:0},underline:{position:'absolute',left:0,right:0,bottom:0,height:2},input:{flexGrow:1,margin:0,textAlign:I18nManager.isRTL?'right':'left',zIndex:1},inputFlat:{paddingTop:24,paddingBottom:4},inputFlatDense:{paddingTop:22,paddingBottom:2},paddingOffset:{paddingHorizontal:LABEL_PADDING_HORIZONTAL}});","map":{"version":3,"sources":["TextInputFlat.tsx"],"names":["MINIMIZED_LABEL_Y_OFFSET","LABEL_PADDING_TOP","LABEL_PADDING_TOP_DENSE","MIN_HEIGHT","MIN_DENSE_HEIGHT_WL","MIN_DENSE_HEIGHT","INPUT_OFFSET","TextInputFlat","React","Component","defaultProps","disabled","error","multiline","editable","render","label","selectionColor","underlineColor","dense","style","theme","parentState","innerRef","onFocus","onBlur","onChangeText","onLayoutAnimatedText","rest","colors","fonts","font","hasActiveOutline","fontSizeStyle","fontWeight","height","paddingHorizontal","viewStyle","StyleSheet","fontSize","paddingOffset","styles","inputTextColor","activeColor","color","placeholderColor","underlineColorCustom","errorColor","containerStyle","backgroundColor","borderTopLeftRadius","borderTopRightRadius","labelScale","MINIMIZED_LABEL_FONT_SIZE","fontScale","MAXIMIZED_LABEL_FONT_SIZE","labelWidth","labelHeight","labelHalfWidth","labelHalfHeight","baseLabelTranslateX","I18nManager","minInputHeight","inputHeight","calculateInputHeight","topPosition","calculateLabelTopPosition","console","paddingSettings","offset","scale","isAndroid","Platform","pad","calculatePadding","paddingFlat","adjustPaddingFlat","baseLabelTranslateY","placeholderOpacity","interpolatePlaceholder","labelProps","placeholderStyle","wiggleOffsetX","minHeight","flatHeight","paddingTop","paddingBottom","ref","placeholder","placeholderTextColor","underlineColorAndroid","textAlignVertical","Underline","transform","scaleY","position","left","underline","right","bottom","input","flexGrow","margin","textAlign","zIndex","inputFlat","inputFlatDense"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  View,\n  Animated,\n  TextInput as NativeTextInput,\n  StyleSheet,\n  I18nManager,\n  Platform,\n  TextStyle,\n} from 'react-native';\nimport color from 'color';\nimport InputLabel from './Label/InputLabel';\nimport { RenderProps, ChildTextInputProps } from './types';\n\nimport {\n  MAXIMIZED_LABEL_FONT_SIZE,\n  MINIMIZED_LABEL_FONT_SIZE,\n  LABEL_WIGGLE_X_OFFSET,\n  LABEL_PADDING_HORIZONTAL,\n} from './constants';\n\nimport {\n  calculateLabelTopPosition,\n  calculateInputHeight,\n  calculatePadding,\n  adjustPaddingFlat,\n  Padding,\n  interpolatePlaceholder,\n} from './helpers';\n\nconst MINIMIZED_LABEL_Y_OFFSET = -18;\n\nconst LABEL_PADDING_TOP = 30;\nconst LABEL_PADDING_TOP_DENSE = 24;\nconst MIN_HEIGHT = 64;\nconst MIN_DENSE_HEIGHT_WL = 52;\nconst MIN_DENSE_HEIGHT = 40;\n\nconst INPUT_OFFSET = 8;\n\nclass TextInputFlat extends React.Component<ChildTextInputProps, {}> {\n  static defaultProps = {\n    disabled: false,\n    error: false,\n    multiline: false,\n    editable: true,\n    render: (props: RenderProps) => <NativeTextInput {...props} />,\n  };\n\n  render() {\n    const {\n      disabled,\n      editable,\n      label,\n      error,\n      selectionColor,\n      underlineColor,\n      dense,\n      style,\n      theme,\n      render,\n      multiline,\n      parentState,\n      innerRef,\n      onFocus,\n      onBlur,\n      onChangeText,\n      onLayoutAnimatedText,\n      ...rest\n    } = this.props;\n\n    const { colors, fonts } = theme;\n    const font = fonts.regular;\n    const hasActiveOutline = parentState.focused || error;\n\n    const {\n      fontSize: fontSizeStyle,\n      fontWeight,\n      height,\n      paddingHorizontal,\n      ...viewStyle\n    } = (StyleSheet.flatten(style) || {}) as TextStyle;\n    const fontSize = fontSizeStyle || MAXIMIZED_LABEL_FONT_SIZE;\n    const paddingOffset = (paddingHorizontal !== undefined &&\n    typeof paddingHorizontal === 'number'\n      ? { paddingHorizontal }\n      : StyleSheet.flatten(styles.paddingOffset)) as {\n      paddingHorizontal: number;\n    };\n\n    let inputTextColor,\n      activeColor,\n      underlineColorCustom,\n      placeholderColor,\n      errorColor;\n\n    if (disabled) {\n      inputTextColor = activeColor = color(colors.text)\n        .alpha(0.54)\n        .rgb()\n        .string();\n      placeholderColor = colors.disabled;\n      underlineColorCustom = 'transparent';\n    } else {\n      inputTextColor = colors.text;\n      activeColor = error ? colors.error : colors.primary;\n      placeholderColor = colors.placeholder;\n      errorColor = colors.error;\n      underlineColorCustom = underlineColor || colors.disabled;\n    }\n\n    const containerStyle = {\n      backgroundColor: theme.dark\n        ? color(colors.background)\n            .lighten(0.24)\n            .rgb()\n            .string()\n        : color(colors.background)\n            .darken(0.06)\n            .rgb()\n            .string(),\n      borderTopLeftRadius: theme.roundness,\n      borderTopRightRadius: theme.roundness,\n    };\n\n    const labelScale = MINIMIZED_LABEL_FONT_SIZE / fontSize;\n    const fontScale = MAXIMIZED_LABEL_FONT_SIZE / fontSize;\n\n    const labelWidth = parentState.labelLayout.width;\n    const labelHeight = parentState.labelLayout.height;\n    const labelHalfWidth = labelWidth / 2;\n    const labelHalfHeight = labelHeight / 2;\n\n    const baseLabelTranslateX =\n      (I18nManager.isRTL ? 1 : -1) *\n        (labelHalfWidth - (labelScale * labelWidth) / 2) +\n      (1 - labelScale) * paddingOffset.paddingHorizontal;\n\n    const minInputHeight = dense\n      ? (label ? MIN_DENSE_HEIGHT_WL : MIN_DENSE_HEIGHT) -\n        LABEL_PADDING_TOP_DENSE\n      : MIN_HEIGHT - LABEL_PADDING_TOP;\n\n    const inputHeight = calculateInputHeight(\n      labelHeight,\n      height,\n      minInputHeight\n    );\n\n    const topPosition = calculateLabelTopPosition(\n      labelHeight,\n      inputHeight,\n      multiline && height ? 0 : !height ? minInputHeight / 2 : 0\n    );\n\n    if (height && typeof height !== 'number')\n      // eslint-disable-next-line\n      console.warn('Currently we support only numbers in height prop');\n\n    const paddingSettings = {\n      height: height ? +height : null,\n      labelHalfHeight,\n      offset: INPUT_OFFSET,\n      multiline: multiline ? multiline : null,\n      dense: dense ? dense : null,\n      topPosition,\n      fontSize,\n      label,\n      scale: fontScale,\n      isAndroid: Platform.OS === 'android',\n      styles: StyleSheet.flatten(\n        dense ? styles.inputFlatDense : styles.inputFlat\n      ) as Padding,\n    };\n\n    const pad = calculatePadding(paddingSettings);\n\n    const paddingFlat = adjustPaddingFlat({\n      ...paddingSettings,\n      pad,\n    });\n\n    const baseLabelTranslateY =\n      -labelHalfHeight - (topPosition + MINIMIZED_LABEL_Y_OFFSET);\n\n    const placeholderOpacity = hasActiveOutline\n      ? interpolatePlaceholder(parentState.labeled, hasActiveOutline)\n      : parentState.labelLayout.measured\n      ? 1\n      : 0;\n\n    const labelProps = {\n      label,\n      onLayoutAnimatedText,\n      placeholderOpacity,\n      error,\n      placeholderStyle: styles.placeholder,\n      baseLabelTranslateY,\n      baseLabelTranslateX,\n      font,\n      fontSize,\n      fontWeight,\n      labelScale,\n      wiggleOffsetX: LABEL_WIGGLE_X_OFFSET,\n      topPosition,\n      paddingOffset,\n      hasActiveOutline,\n      activeColor,\n      placeholderColor,\n      errorColor,\n    };\n\n    const minHeight =\n      height ||\n      (dense ? (label ? MIN_DENSE_HEIGHT_WL : MIN_DENSE_HEIGHT) : MIN_HEIGHT);\n\n    const flatHeight =\n      inputHeight +\n      (!height ? (dense ? LABEL_PADDING_TOP_DENSE : LABEL_PADDING_TOP) : 0);\n\n    return (\n      <View style={[containerStyle, viewStyle]}>\n        <Underline\n          parentState={parentState}\n          underlineColorCustom={underlineColorCustom}\n          error={error}\n          colors={colors}\n          activeColor={activeColor}\n        />\n        <View\n          style={{\n            paddingTop: 0,\n            paddingBottom: 0,\n            minHeight,\n          }}\n        >\n          <InputLabel parentState={parentState} labelProps={labelProps} />\n\n          {render &&\n            render({\n              ...rest,\n              ref: innerRef,\n              onChangeText,\n              // @ts-ignore\n              placeholder: label\n                ? parentState.placeholder\n                : this.props.placeholder,\n              placeholderTextColor: placeholderColor,\n              editable: !disabled && editable,\n              selectionColor:\n                typeof selectionColor === 'undefined'\n                  ? activeColor\n                  : selectionColor,\n              onFocus,\n              onBlur,\n              underlineColorAndroid: 'transparent',\n              multiline,\n              style: [\n                styles.input,\n                paddingOffset,\n                !multiline || (multiline && height)\n                  ? { height: flatHeight }\n                  : {},\n                paddingFlat,\n                {\n                  ...font,\n                  fontSize,\n                  fontWeight,\n                  color: inputTextColor,\n                  textAlignVertical: multiline ? 'top' : 'center',\n                },\n              ],\n            })}\n        </View>\n      </View>\n    );\n  }\n}\n\nexport default TextInputFlat;\n\ntype UnderlineProps = {\n  parentState: {\n    focused: boolean;\n  };\n  error?: boolean;\n  colors: {\n    error: string;\n  };\n  activeColor: string;\n  underlineColorCustom?: string;\n};\n\nconst Underline = ({\n  parentState,\n  error,\n  colors,\n  activeColor,\n  underlineColorCustom,\n}: UnderlineProps) => {\n  let backgroundColor = parentState.focused\n    ? activeColor\n    : underlineColorCustom;\n  if (error) backgroundColor = colors.error;\n  return (\n    <Animated.View\n      style={[\n        styles.underline,\n        {\n          backgroundColor,\n          // Underlines is thinner when input is not focused\n          transform: [{ scaleY: parentState.focused ? 1 : 0.5 }],\n        },\n      ]}\n    />\n  );\n};\n\nconst styles = StyleSheet.create({\n  placeholder: {\n    position: 'absolute',\n    left: 0,\n  },\n  underline: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    height: 2,\n  },\n  input: {\n    flexGrow: 1,\n    margin: 0,\n    textAlign: I18nManager.isRTL ? 'right' : 'left',\n    zIndex: 1,\n  },\n  inputFlat: {\n    paddingTop: 24,\n    paddingBottom: 4,\n  },\n  inputFlatDense: {\n    paddingTop: 22,\n    paddingBottom: 2,\n  },\n  paddingOffset: {\n    paddingHorizontal: LABEL_PADDING_HORIZONTAL,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}