{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _objectSpread from\"@babel/runtime/helpers/objectSpread\";import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";var _jsxFileName=\"/Users/trensik/dev/react-native-paper/src/components/TextInput/TextInputOutlined.tsx\";import*as React from'react';import View from\"react-native-web/dist/exports/View\";import NativeTextInput from\"react-native-web/dist/exports/TextInput\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import I18nManager from\"react-native-web/dist/exports/I18nManager\";import Platform from\"react-native-web/dist/exports/Platform\";import color from'color';import InputLabel from\"./Label/InputLabel\";import LabelBackground from\"./Label/LabelBackground\";import{MAXIMIZED_LABEL_FONT_SIZE,MINIMIZED_LABEL_FONT_SIZE,LABEL_WIGGLE_X_OFFSET}from\"./constants\";import{calculateLabelTopPosition,calculateInputHeight,calculatePadding,adjustPaddingOut,interpolatePlaceholder}from\"./helpers\";var OUTLINE_MINIMIZED_LABEL_Y_OFFSET=-6;var LABEL_PADDING_TOP=8;var MIN_HEIGHT=64;var MIN_DENSE_HEIGHT=48;var INPUT_PADDING_HORIZONTAL=14;var TextInputOutlined=function(_React$Component){_inherits(TextInputOutlined,_React$Component);function TextInputOutlined(){_classCallCheck(this,TextInputOutlined);return _possibleConstructorReturn(this,_getPrototypeOf(TextInputOutlined).apply(this,arguments));}_createClass(TextInputOutlined,[{key:\"render\",value:function render(){var _this$props=this.props,disabled=_this$props.disabled,editable=_this$props.editable,label=_this$props.label,error=_this$props.error,selectionColor=_this$props.selectionColor,underlineColor=_this$props.underlineColor,dense=_this$props.dense,style=_this$props.style,theme=_this$props.theme,render=_this$props.render,multiline=_this$props.multiline,parentState=_this$props.parentState,innerRef=_this$props.innerRef,onFocus=_this$props.onFocus,onBlur=_this$props.onBlur,onChangeText=_this$props.onChangeText,onLayoutAnimatedText=_this$props.onLayoutAnimatedText,rest=_objectWithoutProperties(_this$props,[\"disabled\",\"editable\",\"label\",\"error\",\"selectionColor\",\"underlineColor\",\"dense\",\"style\",\"theme\",\"render\",\"multiline\",\"parentState\",\"innerRef\",\"onFocus\",\"onBlur\",\"onChangeText\",\"onLayoutAnimatedText\"]);var colors=theme.colors,fonts=theme.fonts;var font=fonts.regular;var hasActiveOutline=parentState.focused||error;var _ref=StyleSheet.flatten(style)||{},fontSizeStyle=_ref.fontSize,fontWeight=_ref.fontWeight,height=_ref.height,_ref$backgroundColor=_ref.backgroundColor,backgroundColor=_ref$backgroundColor===void 0?colors.background:_ref$backgroundColor,viewStyle=_objectWithoutProperties(_ref,[\"fontSize\",\"fontWeight\",\"height\",\"backgroundColor\"]);var fontSize=fontSizeStyle||MAXIMIZED_LABEL_FONT_SIZE;var inputTextColor,activeColor,outlineColor,placeholderColor,errorColor,containerStyle;if(disabled){inputTextColor=activeColor=color(colors.text).alpha(0.54).rgb().string();placeholderColor=outlineColor=colors.disabled;}else{inputTextColor=colors.text;activeColor=error?colors.error:colors.primary;placeholderColor=outlineColor=colors.placeholder;errorColor=colors.error;}var labelScale=MINIMIZED_LABEL_FONT_SIZE/fontSize;var fontScale=MAXIMIZED_LABEL_FONT_SIZE/fontSize;var labelWidth=parentState.labelLayout.width;var labelHeight=parentState.labelLayout.height;var labelHalfWidth=labelWidth/2;var labelHalfHeight=labelHeight/2;var baseLabelTranslateX=(I18nManager.isRTL?1:-1)*(labelHalfWidth-labelScale*labelWidth/2-(fontSize-MINIMIZED_LABEL_FONT_SIZE)*labelScale);var minInputHeight=(dense?MIN_DENSE_HEIGHT:MIN_HEIGHT)-LABEL_PADDING_TOP;var inputHeight=calculateInputHeight(labelHeight,height,minInputHeight);var topPosition=calculateLabelTopPosition(labelHeight,inputHeight,LABEL_PADDING_TOP);if(height&&typeof height!=='number')console.warn('Currently we support only numbers in height prop');var paddingSettings={height:height?+height:null,labelHalfHeight:labelHalfHeight,offset:LABEL_PADDING_TOP,multiline:multiline?multiline:null,dense:dense?dense:null,topPosition:topPosition,fontSize:fontSize,label:label,scale:fontScale,isAndroid:Platform.OS==='android',styles:StyleSheet.flatten(dense?styles.inputOutlinedDense:styles.inputOutlined)};var pad=calculatePadding(paddingSettings);var paddingOut=adjustPaddingOut(_objectSpread({},paddingSettings,{pad:pad}));var baseLabelTranslateY=-labelHalfHeight-(topPosition+OUTLINE_MINIMIZED_LABEL_Y_OFFSET);var placeholderOpacity=interpolatePlaceholder(parentState.labeled,hasActiveOutline);var labelProps={label:label,onLayoutAnimatedText:onLayoutAnimatedText,placeholderOpacity:placeholderOpacity,error:error,placeholderStyle:styles.placeholder,baseLabelTranslateY:baseLabelTranslateY,baseLabelTranslateX:baseLabelTranslateX,font:font,fontSize:fontSize,fontWeight:fontWeight,labelScale:labelScale,wiggleOffsetX:LABEL_WIGGLE_X_OFFSET,topPosition:topPosition,hasActiveOutline:hasActiveOutline,activeColor:activeColor,placeholderColor:placeholderColor,backgroundColor:backgroundColor,errorColor:errorColor};var minHeight=height||(dense?MIN_DENSE_HEIGHT:MIN_HEIGHT);return React.createElement(View,{style:[containerStyle,viewStyle],__source:{fileName:_jsxFileName,lineNumber:188}},React.createElement(View,{__source:{fileName:_jsxFileName,lineNumber:194}},React.createElement(Outline,{theme:theme,hasActiveOutline:hasActiveOutline,activeColor:activeColor,outlineColor:outlineColor,backgroundColor:backgroundColor,__source:{fileName:_jsxFileName,lineNumber:195}}),React.createElement(View,{style:{paddingTop:LABEL_PADDING_TOP,paddingBottom:0,minHeight:minHeight},__source:{fileName:_jsxFileName,lineNumber:202}},React.createElement(InputLabel,{parentState:parentState,labelProps:labelProps,labelBackground:LabelBackground,__source:{fileName:_jsxFileName,lineNumber:209}}),render&&render(_objectSpread({},rest,{ref:innerRef,onChangeText:onChangeText,placeholder:label?parentState.placeholder:this.props.placeholder,placeholderTextColor:placeholderColor,editable:!disabled&&editable,selectionColor:typeof selectionColor==='undefined'?activeColor:selectionColor,onFocus:onFocus,onBlur:onBlur,underlineColorAndroid:'transparent',multiline:multiline,style:[styles.input,!multiline||multiline&&height?{height:inputHeight}:{},paddingOut,_objectSpread({},font,{fontSize:fontSize,fontWeight:fontWeight,color:inputTextColor,textAlignVertical:multiline?'top':'center'})]})))));}}]);return TextInputOutlined;}(React.Component);TextInputOutlined.defaultProps={disabled:false,error:false,multiline:false,editable:true,render:function render(props){return React.createElement(NativeTextInput,_extends({},props,{__source:{fileName:_jsxFileName,lineNumber:44}}));}};export default TextInputOutlined;var Outline=function Outline(_ref2){var theme=_ref2.theme,hasActiveOutline=_ref2.hasActiveOutline,activeColor=_ref2.activeColor,outlineColor=_ref2.outlineColor,backgroundColor=_ref2.backgroundColor;return React.createElement(View,{pointerEvents:\"none\",style:[styles.outline,{backgroundColor:backgroundColor,borderRadius:theme.roundness,borderWidth:hasActiveOutline?2:1,borderColor:hasActiveOutline?activeColor:outlineColor}],__source:{fileName:_jsxFileName,lineNumber:272}});};var styles=StyleSheet.create({placeholder:{position:'absolute',left:0,paddingHorizontal:INPUT_PADDING_HORIZONTAL},outline:{position:'absolute',left:0,right:0,top:6,bottom:0},input:{flexGrow:1,paddingHorizontal:INPUT_PADDING_HORIZONTAL,margin:0,textAlign:I18nManager.isRTL?'right':'left',zIndex:1},inputOutlined:{paddingTop:8,paddingBottom:8},inputOutlinedDense:{paddingTop:4,paddingBottom:4}});","map":{"version":3,"sources":["TextInputOutlined.tsx"],"names":["OUTLINE_MINIMIZED_LABEL_Y_OFFSET","LABEL_PADDING_TOP","MIN_HEIGHT","MIN_DENSE_HEIGHT","INPUT_PADDING_HORIZONTAL","TextInputOutlined","React","Component","defaultProps","disabled","error","multiline","editable","render","label","selectionColor","underlineColor","dense","style","theme","parentState","innerRef","onFocus","onBlur","onChangeText","onLayoutAnimatedText","rest","colors","fonts","font","hasActiveOutline","fontSizeStyle","fontWeight","height","backgroundColor","viewStyle","StyleSheet","fontSize","inputTextColor","activeColor","color","placeholderColor","outlineColor","errorColor","labelScale","MINIMIZED_LABEL_FONT_SIZE","fontScale","MAXIMIZED_LABEL_FONT_SIZE","labelWidth","labelHeight","labelHalfWidth","labelHalfHeight","baseLabelTranslateX","I18nManager","minInputHeight","inputHeight","calculateInputHeight","topPosition","calculateLabelTopPosition","console","paddingSettings","offset","scale","isAndroid","Platform","styles","pad","calculatePadding","paddingOut","adjustPaddingOut","baseLabelTranslateY","placeholderOpacity","interpolatePlaceholder","labelProps","placeholderStyle","wiggleOffsetX","minHeight","paddingTop","paddingBottom","ref","placeholder","placeholderTextColor","underlineColorAndroid","textAlignVertical","Outline","borderRadius","borderWidth","borderColor","position","left","paddingHorizontal","outline","right","top","bottom","input","flexGrow","margin","textAlign","zIndex","inputOutlined","inputOutlinedDense"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport {\n  View,\n  TextInput as NativeTextInput,\n  StyleSheet,\n  I18nManager,\n  Platform,\n  TextStyle,\n} from 'react-native';\nimport color from 'color';\n\nimport InputLabel from './Label/InputLabel';\nimport LabelBackground from './Label/LabelBackground';\nimport { RenderProps, ChildTextInputProps } from './types';\nimport { Theme } from '../../types';\n\nimport {\n  MAXIMIZED_LABEL_FONT_SIZE,\n  MINIMIZED_LABEL_FONT_SIZE,\n  LABEL_WIGGLE_X_OFFSET,\n} from './constants';\n\nimport {\n  calculateLabelTopPosition,\n  calculateInputHeight,\n  calculatePadding,\n  adjustPaddingOut,\n  Padding,\n  interpolatePlaceholder,\n} from './helpers';\n\nconst OUTLINE_MINIMIZED_LABEL_Y_OFFSET = -6;\nconst LABEL_PADDING_TOP = 8;\nconst MIN_HEIGHT = 64;\nconst MIN_DENSE_HEIGHT = 48;\nconst INPUT_PADDING_HORIZONTAL = 14;\n\nclass TextInputOutlined extends React.Component<ChildTextInputProps, {}> {\n  static defaultProps = {\n    disabled: false,\n    error: false,\n    multiline: false,\n    editable: true,\n    render: (props: RenderProps) => <NativeTextInput {...props} />,\n  };\n\n  render() {\n    const {\n      disabled,\n      editable,\n      label,\n      error,\n      selectionColor,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      underlineColor,\n      dense,\n      style,\n      theme,\n      render,\n      multiline,\n      parentState,\n      innerRef,\n      onFocus,\n      onBlur,\n      onChangeText,\n      onLayoutAnimatedText,\n      ...rest\n    } = this.props;\n\n    const { colors, fonts } = theme;\n    const font = fonts.regular;\n    const hasActiveOutline = parentState.focused || error;\n\n    const {\n      fontSize: fontSizeStyle,\n      fontWeight,\n      height,\n      backgroundColor = colors.background,\n      ...viewStyle\n    } = (StyleSheet.flatten(style) || {}) as TextStyle;\n    const fontSize = fontSizeStyle || MAXIMIZED_LABEL_FONT_SIZE;\n\n    let inputTextColor,\n      activeColor,\n      outlineColor,\n      placeholderColor,\n      errorColor,\n      containerStyle;\n\n    if (disabled) {\n      inputTextColor = activeColor = color(colors.text)\n        .alpha(0.54)\n        .rgb()\n        .string();\n      placeholderColor = outlineColor = colors.disabled;\n    } else {\n      inputTextColor = colors.text;\n      activeColor = error ? colors.error : colors.primary;\n      placeholderColor = outlineColor = colors.placeholder;\n      errorColor = colors.error;\n    }\n\n    const labelScale = MINIMIZED_LABEL_FONT_SIZE / fontSize;\n    const fontScale = MAXIMIZED_LABEL_FONT_SIZE / fontSize;\n\n    const labelWidth = parentState.labelLayout.width;\n    const labelHeight = parentState.labelLayout.height;\n    const labelHalfWidth = labelWidth / 2;\n    const labelHalfHeight = labelHeight / 2;\n\n    const baseLabelTranslateX =\n      (I18nManager.isRTL ? 1 : -1) *\n      (labelHalfWidth -\n        (labelScale * labelWidth) / 2 -\n        (fontSize - MINIMIZED_LABEL_FONT_SIZE) * labelScale);\n\n    const minInputHeight =\n      (dense ? MIN_DENSE_HEIGHT : MIN_HEIGHT) - LABEL_PADDING_TOP;\n\n    const inputHeight = calculateInputHeight(\n      labelHeight,\n      height,\n      minInputHeight\n    );\n\n    const topPosition = calculateLabelTopPosition(\n      labelHeight,\n      inputHeight,\n      LABEL_PADDING_TOP\n    );\n\n    if (height && typeof height !== 'number')\n      // eslint-disable-next-line\n      console.warn('Currently we support only numbers in height prop');\n\n    const paddingSettings = {\n      height: height ? +height : null,\n      labelHalfHeight,\n      offset: LABEL_PADDING_TOP,\n      multiline: multiline ? multiline : null,\n      dense: dense ? dense : null,\n      topPosition,\n      fontSize,\n      label,\n      scale: fontScale,\n      isAndroid: Platform.OS === 'android',\n      styles: StyleSheet.flatten(\n        dense ? styles.inputOutlinedDense : styles.inputOutlined\n      ) as Padding,\n    };\n\n    const pad = calculatePadding(paddingSettings);\n\n    const paddingOut = adjustPaddingOut({ ...paddingSettings, pad });\n\n    const baseLabelTranslateY =\n      -labelHalfHeight - (topPosition + OUTLINE_MINIMIZED_LABEL_Y_OFFSET);\n\n    const placeholderOpacity = interpolatePlaceholder(\n      parentState.labeled,\n      hasActiveOutline\n    );\n\n    const labelProps = {\n      label,\n      onLayoutAnimatedText,\n      placeholderOpacity,\n      error,\n      placeholderStyle: styles.placeholder,\n      baseLabelTranslateY,\n      baseLabelTranslateX,\n      font,\n      fontSize,\n      fontWeight,\n      labelScale,\n      wiggleOffsetX: LABEL_WIGGLE_X_OFFSET,\n      topPosition,\n      hasActiveOutline,\n      activeColor,\n      placeholderColor,\n      backgroundColor,\n      errorColor,\n    };\n\n    const minHeight = height || (dense ? MIN_DENSE_HEIGHT : MIN_HEIGHT);\n\n    return (\n      <View style={[containerStyle, viewStyle]}>\n        {/* \n          Render the outline separately from the container\n          This is so that the label can overlap the outline\n          Otherwise the border will cut off the label on Android \n          */}\n        <View>\n          <Outline\n            theme={theme}\n            hasActiveOutline={hasActiveOutline}\n            activeColor={activeColor}\n            outlineColor={outlineColor}\n            backgroundColor={backgroundColor}\n          />\n          <View\n            style={{\n              paddingTop: LABEL_PADDING_TOP,\n              paddingBottom: 0,\n              minHeight,\n            }}\n          >\n            <InputLabel\n              parentState={parentState}\n              labelProps={labelProps}\n              labelBackground={LabelBackground}\n            />\n\n            {render &&\n              render({\n                ...rest,\n                ref: innerRef,\n                onChangeText,\n                placeholder: label\n                  ? parentState.placeholder\n                  : this.props.placeholder,\n                placeholderTextColor: placeholderColor,\n                editable: !disabled && editable,\n                selectionColor:\n                  typeof selectionColor === 'undefined'\n                    ? activeColor\n                    : selectionColor,\n                onFocus,\n                onBlur,\n                underlineColorAndroid: 'transparent',\n                multiline,\n                style: [\n                  styles.input,\n                  !multiline || (multiline && height)\n                    ? { height: inputHeight }\n                    : {},\n                  paddingOut,\n                  {\n                    ...font,\n                    fontSize,\n                    fontWeight,\n                    color: inputTextColor,\n                    textAlignVertical: multiline ? 'top' : 'center',\n                  },\n                ],\n              } as RenderProps)}\n          </View>\n        </View>\n      </View>\n    );\n  }\n}\n\nexport default TextInputOutlined;\n\ntype OutlineType = {\n  activeColor: string;\n  hasActiveOutline: boolean | undefined;\n  outlineColor: string | undefined;\n  backgroundColor: string | undefined;\n  theme: Theme;\n};\n\nconst Outline = ({\n  theme,\n  hasActiveOutline,\n  activeColor,\n  outlineColor,\n  backgroundColor,\n}: OutlineType) => (\n  <View\n    pointerEvents=\"none\"\n    style={[\n      styles.outline,\n      // eslint-disable-next-line react-native/no-inline-styles\n      {\n        backgroundColor,\n        borderRadius: theme.roundness,\n        borderWidth: hasActiveOutline ? 2 : 1,\n        borderColor: hasActiveOutline ? activeColor : outlineColor,\n      },\n    ]}\n  />\n);\n\nconst styles = StyleSheet.create({\n  placeholder: {\n    position: 'absolute',\n    left: 0,\n    paddingHorizontal: INPUT_PADDING_HORIZONTAL,\n  },\n  outline: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    top: 6,\n    bottom: 0,\n  },\n  input: {\n    flexGrow: 1,\n    paddingHorizontal: INPUT_PADDING_HORIZONTAL,\n    margin: 0,\n    textAlign: I18nManager.isRTL ? 'right' : 'left',\n    zIndex: 1,\n  },\n  inputOutlined: {\n    paddingTop: 8,\n    paddingBottom: 8,\n  },\n  inputOutlinedDense: {\n    paddingTop: 4,\n    paddingBottom: 4,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}